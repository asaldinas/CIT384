<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Submit Maintenance Request â€¢ Matador's Maintenance</title>

    <link rel="stylesheet" href="forms.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap"
        rel="stylesheet"
    />
</head>

<body>

    <!-- Top Navigation (matches admin.html perfectly) -->
    <div class="top-bar">
        <h3 id="siteName">
            <a href="home.html">Matador's Maintenance</a>
        </h3>

        <div id="options" aria-label="Site navigation">
            <a id="about" href="about.html">About</a>
            <a id="projects" href="projects.html">Projects</a>
            <a id="admin" href="admin.html">Admin</a>
            <a id="contacts" href="contacts.html">Contact</a>
        </div>
    </div>

    <!-- Main Content -->
    <main class="page-wrapper">
        <section class="form-wrapper">
            <div class="form-card">
                <h1 class="form-title">Submit a Maintenance Request</h1>
                <p class="form-subtitle">
                    Please provide as much detail as possible so our team can respond quickly and accurately.
                </p>

                <!-- FORM: correct endpoint + encoding -->
                <form
                    id="maintenance_form"
                    class="maintenance-form"
                    action="/api/tickets"
                    method="POST"
                    enctype="multipart/form-data"
                >

                    <!-- Description -->
                    <div class="form-group">
                        <label for="description">
                            Description of the issue <span class="required">*</span>
                        </label>
                        <textarea
                            id="description"
                            name="description"
                            rows="3"
                            placeholder="Describe the issue, what you noticed, and any safety concerns."
                            required
                        ></textarea>
                    </div>

                    <!-- Images -->
                    <div class="form-group">
                        <label for="myfile">Attach images (optional)</label>
                        <p class="field-helper">
                            You may upload multiple images to help us better understand the problem.
                            Accepted formats: .jpg, .jpeg, .png
                        </p>

                        <!-- IMPORTANT: name="files" must match upload.array('files', ...) -->
                        <input
                            type="file"
                            id="myfile"
                            name="files"
                            accept=".jpg,.jpeg,.png"
                            multiple
                        />
                    </div>

                    <!-- Location -->
                    <div class="form-group">
                        <label for="location">
                            Location (nearest building or street) <span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            id="location"
                            name="location"
                            placeholder="e.g., Redwood Hall, north entrance"
                            required
                        />
                    </div>

                    <!-- Category -->
                    <div class="form-group">
                        <label for="dropdown">
                            Maintenance category <span class="required">*</span>
                        </label>
                        <select id="dropdown" name="category" required>
                            <option value="" disabled selected>Select a category</option>
                            <option value="plumbing">Plumbing</option>
                            <option value="hvac">HVAC</option>
                            <option value="electrical">Electrical</option>
                            <option value="construction">Construction</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <!-- Additional Comments -->
                    <div class="form-group">
                        <label for="comments">Additional comments</label>
                        <textarea
                            id="comments"
                            name="comments"
                            rows="3"
                            placeholder="Any additional notes or access instructions."
                        ></textarea>
                    </div>

                    <!-- Submit Button -->
                    <div class="form-actions">
                        <button type="submit" class="primary-btn">
                            Submit Request
                        </button>

                        <p class="form-footer-text">
                            Need admin access?
                            <a href="admin.html">Go to admin login</a>
                        </p>
                    </div>

                </form>
            </div>
        </section>
    </main>

    <!-- OPTIONAL JS handling submission (works with fetch or default form POST) -->
    <script src="form.js"></script>

</body>
</html>
